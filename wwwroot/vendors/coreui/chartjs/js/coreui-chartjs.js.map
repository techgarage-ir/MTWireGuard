{"version":3,"file":"coreui-chartjs.js","sources":["../../js/src/custom-tooltips.js","../../js/index.umd.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Custom Tooltips for Chart.js (v3.0.0): custom-tooltips.js\n * Licensed under MIT (https://coreui.io/plugins/chart.js)\n * --------------------------------------------------------------------------\n */\n\nconst ClassName = {\n  TOOLTIP: 'chartjs-tooltip',\n  TOOLTIP_BODY: 'chartjs-tooltip-body',\n  TOOLTIP_BODY_ITEM: 'chartjs-tooltip-body-item',\n  TOOLTIP_HEADER: 'chartjs-tooltip-header',\n  TOOLTIP_HEADER_ITEM: 'chartjs-tooltip-header-item'\n}\n\nconst getOrCreateTooltip = chart => {\n  let tooltipEl = chart.canvas.parentNode.querySelector('div')\n\n  if (!tooltipEl) {\n    tooltipEl = document.createElement('div')\n    tooltipEl.classList.add(ClassName.TOOLTIP)\n\n    const table = document.createElement('table')\n    table.style.margin = '0px'\n\n    tooltipEl.appendChild(table)\n    chart.canvas.parentNode.appendChild(tooltipEl)\n  }\n\n  return tooltipEl\n}\n\nconst customTooltips = context => {\n  // Tooltip Element\n  const { chart, tooltip } = context\n  const tooltipEl = getOrCreateTooltip(chart)\n\n  // Hide if no tooltip\n  if (tooltip.opacity === 0) {\n    tooltipEl.style.opacity = 0\n    return\n  }\n\n  // Set Text\n  if (tooltip.body) {\n    const titleLines = tooltip.title || []\n    const bodyLines = tooltip.body.map(b => b.lines)\n\n    const tableHead = document.createElement('thead')\n    tableHead.classList.add(ClassName.TOOLTIP_HEADER)\n\n    titleLines.forEach(title => {\n      const tr = document.createElement('tr')\n      tr.style.borderWidth = 0\n      tr.classList.add(ClassName.TOOLTIP_HEADER_ITEM)\n\n      const th = document.createElement('th')\n      th.style.borderWidth = 0\n      const text = document.createTextNode(title)\n\n      th.appendChild(text)\n      tr.appendChild(th)\n      tableHead.appendChild(tr)\n    })\n\n    const tableBody = document.createElement('tbody')\n    tableBody.classList.add(ClassName.TOOLTIP_BODY)\n\n    bodyLines.forEach((body, i) => {\n      const colors = tooltip.labelColors[i]\n\n      const span = document.createElement('span')\n      span.style.background = colors.backgroundColor\n      span.style.borderColor = colors.borderColor\n      span.style.borderWidth = '2px'\n      span.style.marginRight = '10px'\n      span.style.height = '10px'\n      span.style.width = '10px'\n      span.style.display = 'inline-block'\n\n      const tr = document.createElement('tr')\n      tr.classList.add(ClassName.TOOLTIP_BODY_ITEM)\n\n      const td = document.createElement('td')\n      td.style.borderWidth = 0\n\n      const text = document.createTextNode(body)\n\n      td.appendChild(span)\n      td.appendChild(text)\n      tr.appendChild(td)\n      tableBody.appendChild(tr)\n    })\n\n    const tableRoot = tooltipEl.querySelector('table')\n\n    // Remove old children\n    while (tableRoot.firstChild) {\n      tableRoot.firstChild.remove()\n    }\n\n    // Add new children\n    tableRoot.appendChild(tableHead)\n    tableRoot.appendChild(tableBody)\n  }\n\n  const { offsetLeft: positionX, offsetTop: positionY } = chart.canvas\n\n  // Display, position, and set styles for font\n  tooltipEl.style.opacity = 1\n  tooltipEl.style.left = positionX + tooltip.caretX + 'px'\n  tooltipEl.style.top = positionY + tooltip.caretY + 'px'\n  tooltipEl.style.font = tooltip.options.bodyFont.string\n  tooltipEl.style.padding = tooltip.padding + 'px ' + tooltip.padding + 'px'\n}\n\nexport default customTooltips\n","/**\n * --------------------------------------------------------------------------\n * Custom Tooltips for Chart.js (v3.0.0): index.umd.js\n * Licensed under MIT (https://github.com/@coreui/coreui-chartjs/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// eslint-disable-next-line no-unused-vars\nimport customTooltips from './src/custom-tooltips'\n\nexport default {\n  customTooltips\n}\n"],"names":["ClassName","TOOLTIP","TOOLTIP_BODY","TOOLTIP_BODY_ITEM","TOOLTIP_HEADER","TOOLTIP_HEADER_ITEM","getOrCreateTooltip","chart","tooltipEl","canvas","parentNode","querySelector","document","createElement","classList","add","table","style","margin","appendChild","customTooltips","context","tooltip","opacity","body","titleLines","title","bodyLines","map","b","lines","tableHead","forEach","tr","borderWidth","th","text","createTextNode","tableBody","i","colors","labelColors","span","background","backgroundColor","borderColor","marginRight","height","width","display","td","tableRoot","firstChild","remove","offsetLeft","positionX","offsetTop","positionY","left","caretX","top","caretY","font","options","bodyFont","string","padding"],"mappings":"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"}